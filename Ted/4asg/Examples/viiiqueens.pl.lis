Script started on Tue Mar  6 21:09:03 2012
bash-3.2$ cat -n viiiqueens.pl.lis 
bash-3.2$ cat -n viiiqueens.pl
     1	% $Id: viiiqueens.pl,v 1.3 2011-05-19 19:53:59-07 - - $ */
     2	
     3	not( X ) :- X, !, fail.
     4	not( _ ).
     5	
     6	remove( Item, [ Item | Tail ], Tail ).
     7	
     8	remove( Item, [ Head1 | Tail1 ], [ Head1 | Tail2 ] ) :-
     9	   remove( Item, Tail1, Tail2 ).
    10	
    11	threatens( Rank1, File1, Rank2, File2 ) :-
    12	   Rankdiff is abs( Rank1 - Rank2 ),
    13	   Filediff is abs( File1 - File2 ),
    14	   Rankdiff =:= Filediff.
    15	
    16	place( Rank, File, Rank, [], [ File ] ).
    17	
    18	place( Rank1, File1, Rank2, [ File2 | Rest ], [ File2 | Gives ] ) :-
    19	   not( threatens( Rank1, File1, Rank2, File2 )),
    20	   Nextrank2 is Rank2 + 1,
    21	   place( Rank1, File1, Nextrank2, Rest, Gives ).
    22	
    23	queens( _, [], Sequence, Sequence ).
    24	
    25	queens( Rank, Start, Partial, Answer ) :-
    26	   remove( One, Start, Remaining ),
    27	   place( Rank, One, 1, Partial, New ),
    28	   Nextrank is Rank + 1,
    29	   queens( Nextrank, Remaining, New, Answer ).
    30	
    31	queens :-
    32	   queens( 1, [1,2,3,4,5,6,7,8], [], Answer ),
    33	   write( Answer ), nl,
    34	   fail.
    35	
    36	% TEST: queens.
bash-3.2$ gprolog
GNU Prolog 1.3.1
By Daniel Diaz
Copyright (C) 1999-2009 Daniel Diaz
| ?- [viiiqueens][viiiqueens].
compiling /afs/cats.ucsc.edu/courses/cmps112-wm/Languages/prolog/Examples/viiiqueens.pl for byte code...
/afs/cats.ucsc.edu/courses/cmps112-wm/Languages/prolog/Examples/viiiqueens.pl compiled, 36 lines read - 4021 bytes written, 11 ms

yes
| ?- queens.
[1,5,8,6,3,7,2,4]
[1,6,8,3,7,4,2,5]
[1,7,4,6,8,2,5,3]
[1,7,5,8,2,4,6,3]
[2,4,6,8,3,1,7,5]
[2,5,7,1,3,8,6,4]
[2,5,7,4,1,8,6,3]
[2,6,1,7,4,8,3,5]
[2,6,8,3,1,4,7,5]
[2,7,3,6,8,5,1,4]
[2,7,5,8,1,4,6,3]
[2,8,6,1,3,5,7,4]
[3,1,7,5,8,2,4,6]
[3,5,2,8,1,7,4,6]
[3,5,2,8,6,4,7,1]
[3,5,7,1,4,2,8,6]
[3,5,8,4,1,7,2,6]
[3,6,2,5,8,1,7,4]
[3,6,2,7,1,4,8,5]
[3,6,2,7,5,1,8,4]
[3,6,4,1,8,5,7,2]
[3,6,4,2,8,5,7,1]
[3,6,8,1,4,7,5,2]
[3,6,8,1,5,7,2,4]
[3,6,8,2,4,1,7,5]
[3,7,2,8,5,1,4,6]
[3,7,2,8,6,4,1,5]
[3,8,4,7,1,6,2,5]
[4,1,5,8,2,7,3,6]
[4,1,5,8,6,3,7,2]
[4,2,5,8,6,1,3,7]
[4,2,7,3,6,8,1,5]
[4,2,7,3,6,8,5,1]
[4,2,7,5,1,8,6,3]
[4,2,8,5,7,1,3,6]
[4,2,8,6,1,3,5,7]
[4,6,1,5,2,8,3,7]
[4,6,8,2,7,1,3,5]
[4,6,8,3,1,7,5,2]
[4,7,1,8,5,2,6,3]
[4,7,3,8,2,5,1,6]
[4,7,5,2,6,1,3,8]
[4,7,5,3,1,6,8,2]
[4,8,1,3,6,2,7,5]
[4,8,1,5,7,2,6,3]
[4,8,5,3,1,7,2,6]
[5,1,4,6,8,2,7,3]
[5,1,8,4,2,7,3,6]
[5,1,8,6,3,7,2,4]
[5,2,4,6,8,3,1,7]
[5,2,4,7,3,8,6,1]
[5,2,6,1,7,4,8,3]
[5,2,8,1,4,7,3,6]
[5,3,1,6,8,2,4,7]
[5,3,1,7,2,8,6,4]
[5,3,8,4,7,1,6,2]
[5,7,1,3,8,6,4,2]
[5,7,1,4,2,8,6,3]
[5,7,2,4,8,1,3,6]
[5,7,2,6,3,1,4,8]
[5,7,2,6,3,1,8,4]
[5,7,4,1,3,8,6,2]
[5,8,4,1,3,6,2,7]
[5,8,4,1,7,2,6,3]
[6,1,5,2,8,3,7,4]
[6,2,7,1,3,5,8,4]
[6,2,7,1,4,8,5,3]
[6,3,1,7,5,8,2,4]
[6,3,1,8,4,2,7,5]
[6,3,1,8,5,2,4,7]
[6,3,5,7,1,4,2,8]
[6,3,5,8,1,4,2,7]
[6,3,7,2,4,8,1,5]
[6,3,7,2,8,5,1,4]
[6,3,7,4,1,8,2,5]
[6,4,1,5,8,2,7,3]
[6,4,2,8,5,7,1,3]
[6,4,7,1,3,5,2,8]
[6,4,7,1,8,2,5,3]
[6,8,2,4,1,7,5,3]
[7,1,3,8,6,4,2,5]
[7,2,4,1,8,5,3,6]
[7,2,6,3,1,4,8,5]
[7,3,1,6,8,5,2,4]
[7,3,8,2,5,1,6,4]
[7,4,2,5,8,1,3,6]
[7,4,2,8,6,1,3,5]
[7,5,3,1,6,8,2,4]
[8,2,4,1,7,5,3,6]
[8,2,5,3,1,7,4,6]
[8,3,1,6,2,5,7,4]
[8,4,1,3,6,2,7,5]

(29 ms) no
| ?- 

bash-3.2$ exit

Script done on Tue Mar  6 21:09:32 2012
